<div class="demo-container">
  <h1>ðŸ“± NGX Phone Number - Demo</h1>

  <!-- âœ… Reactive Form -->
  <section class="form-section">
    <h2>Reactive Form</h2>
    <form [formGroup]="reactiveForm">
      <ngx-phone
        formControlName="phoneReactive"
        [formControls]="phoneReactiveControl"
        [customValidators]="[noStartWithZeroValidator]"
        [config]="{
          defaultCountry: 'US',
          autoFormat: false,
          showFlags: true,
          errorClass: 'custom-error-style',
          validateOnChange: true,
          showErrorsOn: 'blur',
          errorMessages: {
            required: 'Phone number is required',
            minlength: 'Phone number is too short',
            STARTS_WITH_9: 'Phone number should not start with 9'
          }
        }"
        (countryChange)="onCountryChange($event, 'reactive')"
        (numberChange)="onNumberChange($event, 'reactive')"
        (validationChange)="onValidationChange($event, 'reactive')"
        (focus)="onFocus('reactive')"
        (blur)="onBlur('reactive')"
        (enter)="onEnter('reactive')"
      ></ngx-phone>
      <div>
        <!-- Manual error display -->
        <div
          *ngIf="phoneReactiveControl.invalid && phoneReactiveControl.touched"
          class="custom-error-style"
        >
          <div *ngIf="phoneReactiveControl.errors?.['required']">
            Phone number is required
          </div>
          <div *ngIf="phoneReactiveControl.errors?.['STARTS_WITH_9']">
            Phone number should not start with 9
          </div>
          <div *ngIf="phoneReactiveControl.errors?.['minlength']">
            Phone number is too short
          </div>
        </div>
      </div>

      <button
        type="submit"
        class="btn btn-primary"
        (click)="submitReactiveForm()"
      >
        Submit
      </button>
    </form>
  </section>

  <hr />

  <!-- âœ… Template-Driven Form -->
  <section class="form-section">
    <h2>Template-Driven Form</h2>
    <form #templateForm="ngForm" (ngSubmit)="submitTemplateForm(templateForm)">
      <ngx-phone
        name="phoneTemplate"
        [(ngModel)]="templateFormValue"
        [required]="true"
        [config]="{
          defaultCountry: 'IN',
          autoDetectCountry: true
        }"
        (countryChange)="onCountryChange($event, 'template')"
        (numberChange)="onNumberChange($event, 'template')"
        (validationChange)="onValidationChange($event, 'template')"
        (focus)="onFocus('template')"
        (blur)="onBlur('template')"
        (enter)="onEnter('template')"
        [required]="true"
      ></ngx-phone>

      <button type="submit" class="btn btn-primary">Submit</button>
    </form>
  </section>

  <hr />

  <!-- ðŸ”„ Reset -->
  <button class="btn btn-secondary" (click)="resetForms()">
    Reset Both Forms
  </button>

  <!-- ðŸ“¤ Output -->
</div>
